<!doctype html>

<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Panel Bug — SendBug</title>
  <style>
    :root{
      --bg1:#07030a;
      --bg2:#1a052b;
      --accent:#7c3aed; /* ungu */
      --glass: rgba(255,255,255,0.03);
      --muted: rgba(255,255,255,0.6);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      background:linear-gradient(120deg,var(--bg1),var(--bg2));
      color:#eee;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
    }
    .card{
      width:100%;
      max-width:920px;
      background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(124,58,237,0.12);
      border-radius:14px;
      padding:24px;
      box-shadow:0 10px 30px rgba(10,6,20,0.55);
      display:grid;
      grid-template-columns:1fr 360px;
      gap:20px;
      align-items:start;
    }
    .brand{
      display:flex;align-items:center;gap:12px;margin-bottom:12px
    }
    .logo{
      width:56px;height:56px;border-radius:10px;display:flex;align-items:center;justify-content:center;
      background:linear-gradient(135deg,var(--accent),#3b0764);
      font-weight:700;color:white;font-size:18px;box-shadow:0 6px 18px rgba(124,58,237,0.18);
    }
    h1{margin:0;font-size:20px}
    p.lead{color:var(--muted);margin-top:6px;margin-bottom:16px}form{display:flex;flex-direction:column;gap:12px}
label{font-size:13px;color:var(--muted);display:flex;flex-direction:column;gap:8px}
input[type="text"], input[type="tel"], textarea, select{
  background:var(--glass);border:1px solid rgba(255,255,255,0.04);padding:12px;border-radius:10px;color:#fff;outline:none;
  font-size:14px;box-shadow:inset 0 -6px 18px rgba(0,0,0,0.45);
}
textarea{min-height:120px;resize:vertical}
.row{display:flex;gap:12px}
.row .col{flex:1}

.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,0.04);background:transparent;cursor:pointer;font-size:13px}
.chip.active{background:linear-gradient(90deg,var(--accent),#5b21b6);box-shadow:0 6px 20px rgba(92,30,182,0.22)}

.actions{display:flex;gap:10px;align-items:center;margin-top:8px}
button.btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:600}
button.primary{background:linear-gradient(90deg,var(--accent),#5b21b6);color:white}
button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--muted)}

.panel-right{padding:10px;border-left:1px dashed rgba(255,255,255,0.03);min-height:220px}
.preview{background:rgba(255,255,255,0.02);padding:12px;border-radius:10px;font-family:monospace;font-size:13px;color:#d7cfe8}
.muted{font-size:13px;color:var(--muted)}

.status{margin-top:12px;padding:10px;border-radius:10px;font-size:14px}
.success{background:linear-gradient(90deg, rgba(124,58,237,0.08), rgba(59,7,100,0.06));border:1px solid rgba(124,58,237,0.14);color:#e9dbff}
.error{background:linear-gradient(90deg, rgba(255,50,50,0.06), rgba(255,50,50,0.02));border:1px solid rgba(255,50,50,0.12);color:#ffdede}

.footer{margin-top:14px;font-size:12px;color:var(--muted)}

@media(max-width:880px){
  .card{grid-template-columns:1fr;}
  .panel-right{border-left:0;border-top:1px dashed rgba(255,255,255,0.03)}
}

  </style>
</head>
<body>
  <div class="card">
    <div>
      <div class="brand">
        <div class="logo">SB</div>
        <div>
          <h1>Panel Bug — SendBug</h1>
          <p class="lead">Kirim laporan bug cepat. Warna tema: hitam & ungu. Semua input divalidasi sebelum dikirim.</p>
        </div>
      </div><form id="bugForm">
    <div class="row">
      <div class="col">
        <label>SENDBUG (no telp)
          <input id="sendbug" type="tel" placeholder="62xxxxxxxx" pattern="[0-9+]*" required />
        </label>
      </div>
      <div class="col">
        <label>NAMA TARGET
          <input id="namaTarget" type="text" placeholder="NAMAxxxxx" required />
        </label>
      </div>
    </div>

    <label>Jenis Bug</label>
    <div class="chips" id="chips">
      <button type="button" class="chip" data-val="CRASH">CRASH</button>
      <button type="button" class="chip" data-val="DELAY">DELAY</button>
      <button type="button" class="chip" data-val="BALANK">BALANK</button>
    </div>

    <label>Detail Bug (opsional)
      <textarea id="detail" placeholder="Tuliskan detail tambahan, langkah reproduksi, screenshot link..."></textarea>
    </label>

    <div class="actions">
      <button type="submit" class="btn primary">KIRIM BUG</button>
      <button type="button" id="downloadBtn" class="btn ghost">Download JSON</button>
      <div style="flex:1"></div>
      <div class="muted">Status: <span id="currentTags">-</span></div>
    </div>

    <div id="statusBox" aria-live="polite"></div>
    <div class="footer">Tip: simpan log jika ingin investigasi lebih lanjut.</div>
  </form>
</div>

<aside class="panel-right">
  <div class="muted">Preview JSON</div>
  <pre class="preview" id="preview">{

"sendbug":"", "namaTarget":"", "jenis":[], "detail":"" }</pre>

<div id="result" style="margin-top:12px"></div>
</aside>

  </div>  <script>
    const chips = document.querySelectorAll('.chip');
    const currentTags = document.getElementById('currentTags');
    const preview = document.getElementById('preview');
    const sendbug = document.getElementById('sendbug');
    const namaTarget = document.getElementById('namaTarget');
    const detail = document.getElementById('detail');
    const statusBox = document.getElementById('statusBox');
    const downloadBtn = document.getElementById('downloadBtn');

    const state = { jenis: [] };

    chips.forEach(c=> c.addEventListener('click', ()=>{
      const v = c.dataset.val;
      if(c.classList.contains('active')){
        c.classList.remove('active');
        state.jenis = state.jenis.filter(x=>x!==v)
      } else {
        c.classList.add('active');
        state.jenis.push(v);
      }
      renderPreview();
    }))

    function renderPreview(){
      const p = {
        sendbug: sendbug.value || "",
        namaTarget: namaTarget.value || "",
        jenis: state.jenis,
        detail: detail.value || ""
      }
      preview.textContent = JSON.stringify(p, null, 2);
      currentTags.textContent = state.jenis.length ? state.jenis.join(', ') : '-';
    }

    document.getElementById('bugForm').addEventListener('input', renderPreview);
    renderPreview();

    document.getElementById('bugForm').addEventListener('submit', async (e)=>{
      e.preventDefault();
      statusBox.innerHTML = '';

      // simple validation
      const phone = sendbug.value.trim();
      if(!phone || !/^\d{6,15}$/.test(phone.replace(/^\+/,''))){
        showStatus('Periksa nomor SENDBUG (contoh: 6285xxxx).', 'error');
        return;
      }
      if(!namaTarget.value.trim()){
        showStatus('Nama target tidak boleh kosong.', 'error');
        return;
      }
      if(state.jenis.length===0){
        showStatus('Pilih minimal 1 jenis bug (CRASH/DELAY/BALANK).', 'error');
        return;
      }

      const payload = {
        sendbug: phone,
        namaTarget: namaTarget.value.trim(),
        jenis: state.jenis,
        detail: detail.value.trim(),
        ts: new Date().toISOString()
      }

      // simulate send
      showStatus('Mengirim...', 'success');
      try{
        // Jika Anda ingin kirim ke server, ganti URL di bawah ini dengan endpoint Anda dan gunakan fetch.
        // const resp = await fetch('https://contoh.endpoint/send-bug', {method:'POST', headers:{'content-type':'application/json'}, body: JSON.stringify(payload)});
        // const data = await resp.json();

        // simulasi delay jaringan
        await new Promise(r=>setTimeout(r, 900));

        // simulasi sukses
        showStatus('Berhasil terkirim. ID: SB-'+Math.random().toString(36).slice(2,9).toUpperCase(), 'success');

        // tampilkan ringkasan
        const el = document.getElementById('result');
        el.innerHTML = '<div class="status success">Preview dikirim (simulasi):<br/><pre style="font-family:monospace;color:#e9dbff;padding:8px;border-radius:8px">'+JSON.stringify(payload,null,2)+'</pre></div>';}catch(err){
    showStatus('Gagal mengirim: '+err.message, 'error');
  }
})

function showStatus(msg, type){
  statusBox.innerHTML = '<div class="status '+(type==='error'?'error':'success')+'">'+msg+'</div>';
}

downloadBtn.addEventListener('click', ()=>{
  const data = preview.textContent;
  const blob = new Blob([data], {type:'application/json'});
  const url = URL.createObjectURL(blob);
  const a = document.createElement('a');
  a.href = url; a.download = 'sendbug_'+new Date().toISOString().slice(0,19).replace(/[:T]/g,'-')+'.json';
  document.body.appendChild(a); a.click(); a.remove(); URL.revokeObjectURL(url);
})

  </script>
</body>
</html>